(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{260:function(a,t,e){"use strict";e.r(t);var r=e(5),s=Object(r.a)({},(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("blockquote",[e("p",[a._v("高德地图开发基础")])]),a._v(" "),e("h2",{attrs:{id:"注册高德地图key"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#注册高德地图key"}},[a._v("#")]),a._v(" 注册高德地图KEY")]),a._v(" "),e("p",[a._v("要使用高德地图首先需要在"),e("a",{attrs:{href:"https://lbs.amap.com/",target:"_blank",rel:"noopener noreferrer"}},[a._v("高德开放平台"),e("OutboundLink")],1),a._v("注册KEY,登录后可以通过右上角控制台--\x3e应用管理中找到.")]),a._v(" "),e("h2",{attrs:{id:"vue-配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vue-配置"}},[a._v("#")]),a._v(" Vue 配置")]),a._v(" "),e("p",[a._v("在 Vue 的 build 中的 webpack.base.conf.js(基于vue2.x) 中添加配置:\n"),e("img",{attrs:{src:"https://6c6f-love-forever-oo-i88xz-1300941191.tcb.qcloud.la/pictureBed/blog/webpack.jpg",alt:"webpack"}})]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("externals: {\n    'AMap': 'AMap'\n},\n")])])]),e("p",[a._v("在需要使用的组件中引入地图对象")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("import AMap from 'AMap';\n")])])]),e("p",[a._v("在组件的 "),e("em",[a._v("data")]),a._v(" 中初始化 amap: null\n指定用户渲染的容器")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("<div id='amap'></div>\n")])])]),e("p",[a._v("::: tip\n地图容器需要给定宽高,否则不显示\n:::\nmethods 中初始化方法")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('handleAMapInit() {\n\t/*\n\t\tnew AMap.Map 地图初始化方法\n\t\t@params { String } id 地图容器 id\n\t*/\t\n\tthis.amap = new AMap.Map("amap", {\n\t\tresizeEnable: true,\n\t\texpandZoomRange: true,\n\t\tzoom: 20,\n\t\t// zooms 拓展地图放大的级别\n\t\t// pc max:20 - app max:19\n\t\tzooms: [3, 20] \n\t});\n},\n')])])]),e("p",[a._v("::: tip\nmounted 中调用,不要在 created中调用\n如果使用了 keep-alive 在 activated 中调用\n:::")]),a._v(" "),e("h2",{attrs:{id:"高德地图api文档"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#高德地图api文档"}},[a._v("#")]),a._v(" "),e("a",{attrs:{href:"https://lbs.amap.com/api/javascript-api/summary",target:"_blank",rel:"noopener noreferrer"}},[a._v("高德地图API文档"),e("OutboundLink")],1)]),a._v(" "),e("h2",{attrs:{id:"设置地图位置及缩放级别"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#设置地图位置及缩放级别"}},[a._v("#")]),a._v(" 设置地图位置及缩放级别")]),a._v(" "),e("p",[a._v("地图位置/缩放的设置有2个方式可以实现:")]),a._v(" "),e("h4",{attrs:{id:"_1-地图初始化的时候使用center属性指定经纬度-zoom属性指定缩放级别"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-地图初始化的时候使用center属性指定经纬度-zoom属性指定缩放级别"}},[a._v("#")]),a._v(" 1. 地图初始化的时候使用center属性指定经纬度,zoom属性指定缩放级别")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('this.amap = new AMap.Map("amap", {\n\tresizeEnable: true,\n\texpandZoomRange: true,\n\t// 指定缩放级别, PC默认最大 18 \n\t// 如果需要 19 或者 20这2个级别需要上下2个属性 expandZoomRange 和 zooms\n\tzoom: 20, \n\tzooms: [3, 20],\n\t// 初始化指定坐标位置,如果没有该属性自动寻找所在地的中心坐标\n\tcenter: [114.399629, 30.456154] \n});\n')])])]),e("h4",{attrs:{id:"_2-调用api实现"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-调用api实现"}},[a._v("#")]),a._v(" 2. 调用API实现")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("this.amap.setCenter(lnglat);\nlnglat即为经纬度数组形如 [114.399629, 30.456154]\nthis.amap.setZoom(18);\n参数为缩放级别,如果初始化时设置了PC最大缩放20,可以传入20,否则大于18均显示18\n缩放级别为20的时候,地图2厘米等于实际10米\n")])])]),e("h2",{attrs:{id:"获取经纬度"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#获取经纬度"}},[a._v("#")]),a._v(" 获取经纬度")]),a._v(" "),e("p",[a._v("通过注册地图事件获取经纬度 "),e("a",{attrs:{href:"https://lbs.amap.com/api/javascript-api/example/event/map-click-event",target:"_blank",rel:"noopener noreferrer"}},[a._v("官方示例"),e("OutboundLink")],1)]),a._v(" "),e("h2",{attrs:{id:"调用地图工具类"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#调用地图工具类"}},[a._v("#")]),a._v(" 调用地图工具类")]),a._v(" "),e("p",[a._v("高德地图官方自带了很多插件工具 "),e("a",{attrs:{href:"https://lbs.amap.com/api/javascript-api/example/location/browser-location",target:"_blank",rel:"noopener noreferrer"}},[a._v("官方定位示例"),e("OutboundLink")],1)]),a._v(" "),e("h4",{attrs:{id:"调用方式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#调用方式"}},[a._v("#")]),a._v(" 调用方式")]),a._v(" "),e("p",[e("img",{attrs:{src:"https://6c6f-love-forever-oo-i88xz-1300941191.tcb.qcloud.la/pictureBed/blog/amapPlugin.jpg",alt:"plugin"}})]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('handleAMapPlugin() {\n    // 调用地图工具库\n    AMap.plugin(["AMap.ToolBar", "AMap.Scale"], () => {\n    // 调用地图工具,缩放标尺,位移圆钮\n    this.amap.addControl(new AMap.ToolBar());\n    this.amap.addControl(new AMap.Scale());\n    });\n},\n')])])])])}),[],!1,null,null,null);t.default=s.exports}}]);